{"mappings":"oeACA,IAAAA,EAAAC,EAAA,YCAAD,EAAAC,EAAA,qBAUO,SAASC,EAAaC,GACzB,MAAMC,EAAiBC,SAASC,cAAc,oBAC9CF,EAAeG,UAAY,kBAC3BH,EAAeI,UAAY,GAG3B,IAAIC,EAAWN,EAAMM,SACrB,IAAI,IAAIC,EAAE,EAAGA,EAAED,EAASE,OAAQD,IAAI,CAChC,MAAME,EAAUH,EAASC,GACnBG,EAAYD,EAAQE,GACpBC,EAAUH,EAAQA,QAClBI,EAAgBJ,EAAQK,SAExBC,EAAmBb,SAASc,cAAc,OAChDf,EAAegB,YAAYF,GAC3BA,EAAiBX,UAAY,gBAE7B,MAAMc,EAAwChB,SAASc,cAAc,MACrED,EAAiBE,YAAYC,GAC7BA,EAAmBC,UAAYN,EAC/BK,EAAmBd,UAAY,WAE/B,MAAMgB,EAA8ClB,SAASc,cAAc,KAC3ED,EAAiBE,YAAYG,GAC7BA,EAAsBD,UAAYP,EAClCQ,EAAsBhB,UAAY,cAGlC,GAD8BS,IAAkBQ,eAAeC,QAAQ,YAC7C,CACtB,MAAMC,EAAkCrB,SAASc,cAAe,UAChEO,EAAaJ,UAAY,SACzBI,EAAanB,UAAY,SACzBmB,EAAaC,iBAAiB,SAAS,KACnC,MAAMC,EAAS,iBAAmBzB,EAAMW,GAAK,IAAMD,EAC7CgB,EAAeC,EAAAC,IAAI/B,EAAAgC,GAAIJ,GAC7BE,EAAAG,OAAOJ,MAEXX,EAAiBE,YAAYM,IAGrC,MAAMQ,EAAsC7B,SAASc,cAAc,SACnEe,EAAoBC,YAAc,2BAClCD,EAAoB3B,UAAY,YAChCH,EAAegB,YAAYc,GAE3B,MAAME,EAAyC/B,SAASc,cAAc,UACtEiB,EAAqBC,YAAc,OACnCjC,EAAegB,YAAYgB,GAC3BA,EAAqB7B,UAAY,UAIjC,MAAM+B,EAAe,CACjBC,KAAQvC,EAAAwC,YACRC,KAAQzC,EAAA0C,YACRC,KAAQ3C,EAAA4C,aAGZR,EAAqBT,iBAAiB,SAASkB,IAE3CA,EAAEC,iBACF,MAAMC,EAAe,CACjB9B,SAAS+B,EACTpC,QAASsB,EAAoBe,OAG3BC,EAAU,GAChBA,EAFsBpB,EAAAqB,KAAKb,EAAanC,EAAMW,KAAKsC,KAEjCL,EAClBjB,EAAAuB,OAAOf,EAAanC,EAAMW,IAAKoC,MD3EvC,MAAMI,EAA4BjD,SAASC,cAAc,aACnDiD,EAA4BlD,SAASC,cAAc,aACnDkD,EAA4BnD,SAASC,cAAc,aACjBD,SAASc,cAAe,UACzD,IAAI6B,EAAmBxB,eAAeC,QAAQ,YACrDgC,QAAQC,IAAIV,GAEZM,EAAQ3B,iBAAiB,SAAQkB,IAC7BA,EAAEC,iBACH9C,EAAA2D,YAAYzD,MAGfqD,EAAQ5B,iBAAiB,SAASkB,IAC9BA,EAAEC,iBACF9C,EAAA4D,YAAY1D,MAGhBsD,EAAQ7B,iBAAiB,SAASkB,IAC9BA,EAAEC,iBACF9C,EAAA6D,YAAY3D","sources":["src/forum.ts","src/modules/display.ts"],"sourcesContent":["\nimport { getBeerInDb, getFoodInDb, getWineInDb} from \"./modules/firebaseApp\";\nimport { displayTopic } from \"./modules/display\";\n\nconst beerBtn:HTMLButtonElement = document.querySelector('#beer-btn');\nconst foodBtn:HTMLButtonElement = document.querySelector('#food-btn');\nconst wineBtn:HTMLButtonElement = document.querySelector('#wine-btn');\nconst deleteMsgBtn: HTMLButtonElement = document.createElement ('button');\nexport let userName: string = sessionStorage.getItem('username');\nconsole.log(userName)\n\nbeerBtn.addEventListener('click',e => {\n    e.preventDefault();\n   getBeerInDb(displayTopic)\n});\n\nfoodBtn.addEventListener('click', e => {\n    e.preventDefault();\n    getFoodInDb(displayTopic);\n});\n\nwineBtn.addEventListener('click', e => {\n    e.preventDefault();\n    getWineInDb(displayTopic);\n})\n\n\n\nexport { beerBtn, foodBtn, wineBtn, deleteMsgBtn }","\nimport { Topic } from \"./forumClass\";\nimport { dbFoodForum, dbBeerForum, dbWineForum, db } from \"./firebaseApp\";\nimport { update, push, remove, ref } from \"firebase/database\";\nimport { userName } from \"../forum\";\n\n// This is where we will create elements that will appear on our website\n\n//FORUM Display section\n\n\nexport function displayTopic(topic:Topic){\n    const topicContainer = document.querySelector('#topic-container');\n    topicContainer.className = 'topic-container';\n    topicContainer.innerHTML = '';\n    //loop through topic.messages \n    // in the loop:\n    let messages = topic.messages;\n    for(let i=0; i<messages.length; i++){\n        const message = messages[i];\n        const messageId = message.id;\n        const content = message.message;\n        const messageAuthor = message.username;\n\n        const messageContainer = document.createElement('div');\n        topicContainer.appendChild(messageContainer);\n        messageContainer.className = 'msg-container';\n\n        const messageUserElement:HTMLHeadingElement = document.createElement('h4');\n        messageContainer.appendChild(messageUserElement);\n        messageUserElement.innerText = messageAuthor;\n        messageUserElement.className = 'msg-user';\n\n        const messageContentElement: HTMLParagraphElement = document.createElement('p');\n        messageContainer.appendChild(messageContentElement);\n        messageContentElement.innerText = content;\n        messageContentElement.className = 'msg-content';\n\n        const shouldAddDeleteButton = messageAuthor === sessionStorage.getItem('username');\n        if(shouldAddDeleteButton) {\n            const deleteMsgBtn: HTMLButtonElement = document.createElement ('button');\n            deleteMsgBtn.innerText = 'Delete';\n            deleteMsgBtn.className = 'delbtn';\n            deleteMsgBtn.addEventListener('click', () => {\n                const dbPath = '/SNLApp/Forum/' + topic.id + '/' + messageId\n                const messageDbref = ref(db, dbPath);\n                remove(messageDbref);\n            })\n            messageContainer.appendChild(deleteMsgBtn);\n        }\n    }\n    const messageInputElement:HTMLInputElement= document.createElement('input');\n    messageInputElement.placeholder = 'Write your message here!';\n    messageInputElement.className = 'msg-input';\n    topicContainer.appendChild(messageInputElement);\n\n    const messageButtonElement:HTMLButtonElement = document.createElement('button');\n    messageButtonElement.textContent = 'SEND';\n    topicContainer.appendChild(messageButtonElement);\n    messageButtonElement.className = 'msg-btn';\n    \n\n    //this will refer to which topic is selected in the messageButtonElement(send button)\n    const dbReferences = {\n        'beer': dbBeerForum,\n        'wine': dbWineForum,\n        'food': dbFoodForum,\n    }\n\n    messageButtonElement.addEventListener('click', e => {\n        messageInputElement;\n        e.preventDefault();\n        const messageToAdd = {\n            username:userName,\n            message: messageInputElement.value\n        }\n        const newKey:string = push(dbReferences[topic.id]).key;\n        const newChat = {};\n        newChat[newKey] = messageToAdd;\n        update(dbReferences[topic.id], newChat);   \n    })\n};\n\n\n"],"names":["$dNF4M","parcelRequire","$eb32a8c23a2fe422$export$8cdf3d86a0fed01f","topic","topicContainer","document","querySelector","className","innerHTML","messages","i","length","message","messageId","id","content","messageAuthor","username","messageContainer","createElement","appendChild","messageUserElement","innerText","messageContentElement","sessionStorage","getItem","deleteMsgBtn","addEventListener","dbPath","messageDbref","$iLhJC","ref","db","remove","messageInputElement","placeholder","messageButtonElement","textContent","dbReferences","beer","dbBeerForum","wine","dbWineForum","food","dbFoodForum","e","preventDefault","messageToAdd","$8dbaf92a39f48c86$export$c86d3ca66f38ed60","value","newChat","push","key","update","$8dbaf92a39f48c86$export$3f443d8c4ea3d973","$8dbaf92a39f48c86$export$9a1bfe5c70a4744b","$8dbaf92a39f48c86$export$358c624bb34d9e56","console","log","getBeerInDb","getFoodInDb","getWineInDb"],"version":3,"file":"forum.bee71264.js.map"}