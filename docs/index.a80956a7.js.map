{"mappings":"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","sources":["src/main.ts","src/modules/allusersClass.ts","src/modules/profileClass.ts","src/modules/deleteUser.ts"],"sourcesContent":["\nimport { logIn, createNewUser, allUsers } from \"./modules/firebaseApp\";\nimport { onValue } from \"firebase/database\";\nimport { AllUsers } from \"./modules/allusersClass\";\nimport { Profile } from \"./modules/profileClass\";\nimport { User } from \"./modules/userClass\";\nimport { deleteAccount } from \"./modules/deleteUser\";\n\n\ncreateNewUser();\n\n// Login-form\nconst logInUser: HTMLInputElement = document.querySelector('#log-in-name');\nconst logInPassword: HTMLInputElement = document.querySelector('#log-in-pass');\nconst logInBtn: HTMLButtonElement = document.querySelector('.log-in-btn');\n\nexport let inputUserName: string;\nlet inputPassword: string;\n\n// Button for login\nlogInBtn.addEventListener('click', (e) => {\n    e.preventDefault();\n    inputUserName = logInUser.value;\n    inputPassword = logInPassword.value;\n    logIn(inputUserName, inputPassword, onLoginFinish);\n})\n\n// When log in is successful\nfunction onLoginFinish(result: false | User | Profile) {\n    sessionStorage.setItem('username', `${inputUserName}`);\n    let usrName = sessionStorage.getItem('username');\n    if (result) {\n        const profile = new Profile(result);\n        console.log(profile);\n        sessionStorage.setItem('username', inputUserName)\n        onValue(allUsers, snapshot => {\n            const uData = snapshot.val();\n            console.log(uData);\n            const users = new AllUsers(uData);\n            console.log(users);\n            const a = document.createElement('a');\n            a.setAttribute('href', `./forum.html?username=${inputUserName}`);\n            a.innerHTML = 'forum';\n            document.body.appendChild(a);\n\n            deleteAccount();\n        })\n    } else {\n        alert('Hey! You sure you have an account here? Or maybe you typed the wrong password.');\n    }\n}\n\n","\nimport { inputUserName } from \"../main\"; \n\nexport class AllUsers {\n    constructor (\n        public readonly allUsers: Object, \n    ){\n        this.displayAllUsers(allUsers);\n    }\n\n    private displayAllUsers(allUsers):void { /// displays all users from database, \n        const allUsersContainer:HTMLDivElement = document.createElement('div'); \n        document.body.append(allUsersContainer);\n        allUsersContainer.classList.add('allusers-links'); /// shows all users names\n        let allUsersDiv:HTMLDivElement = document.createElement('div');\n        document.body.append(allUsersDiv);\n\n        for(const key in allUsers) { /// loops true allusers to display users \n            let allUsersName:HTMLParagraphElement = document.createElement('p'); \n            allUsersName.innerText = allUsers[key].username; \n\n            if (allUsers[key].username === inputUserName) { /// get back to my own profile \n                allUsersName.innerText = 'Min profil'; \n            }\n \n            allUsersName.style.fontWeight = 'bold'; \n            allUsersContainer.appendChild(allUsersName);\n            \n            allUsersName.addEventListener('click', function(){ /// when pressed renders other profiles \n                allUsersDiv.innerHTML = ''; \n                const profileName:HTMLParagraphElement = document.createElement('p'); \n                profileName.innerText = allUsers[key].username; \n                allUsersDiv.appendChild(profileName); \n                const smallBox = document.createElement('div');\n                smallBox.classList.add('profile-name-bio-div'); \n                smallBox.appendChild(profileName);\n                allUsersDiv.appendChild(smallBox); \n                profileName.classList.add('profile-name'); \n                allUsersDiv.classList.add('profile-container'); \n                const bioPar:HTMLParagraphElement = document.createElement('p'); \n                bioPar.classList.add('profile-bio'); \n                bioPar.innerText = allUsers[key].bio;\n                smallBox.appendChild(bioPar);  \n                const hideDiv:HTMLDivElement = document.querySelector('.profile-container'); \n                hideDiv.style.display = 'none'; \n                const hideWrapper:HTMLDivElement = document.querySelector('.user-wrapper');\n                hideWrapper.style.display = 'none'; \n                const img:HTMLImageElement = document.createElement('img'); \n                const stringImg: string = `${allUsers[key].img}`;\n                const imgUrl = new URL(stringImg, import.meta.url);\n                img.src = imgUrl.href;\n                allUsersDiv.appendChild(img);\n            })\n\n        }\n    \n    }\n    \n}","// import { contains } from \"@firebase/util\";\nimport { inputUserName } from \"../main\"; \n\n\nexport class Profile {\n\n    // public readonly allUsers; // from database\n    constructor (\n        public readonly uData: Object, /// from login-function \n    ){\n        this.displayUser(uData); \n         \n    }\n\n    private displayUser(uData):void { /// creates every element upon creation of instans\n        sessionStorage.setItem('username', `${inputUserName}`); \n        let usrName = sessionStorage.getItem('username');\n        const container:HTMLDivElement = document.createElement('div');\n        document.body.append(container);\n        container.classList.add('profile-container'); \n        const nameEl:HTMLHeadingElement = document.createElement('h2');  \n        const smallBox = document.createElement('div');\n        smallBox.classList.add('profile-name-bio-div'); \n        container.appendChild(smallBox); \n        nameEl.innerText = 'Min profil'; \n        nameEl.classList.add('profile-name'); \n        const bioEl:HTMLParagraphElement = document.createElement('p');\n        bioEl.innerText = uData.bio;\n        bioEl.classList.add('profile-bio'); \n        smallBox.appendChild(nameEl);\n        smallBox.appendChild(bioEl); \n        const imgEl:HTMLImageElement = document.createElement('img'); \n        container.appendChild(imgEl); \n        const stringProfileImg: string = `${uData.img}`;\n        const profileImgUrl = new URL(stringProfileImg, import.meta.url);\n        imgEl.src = profileImgUrl.href; \n        const hideLogin:HTMLDivElement = document.querySelector('.user-wrapper');\n        hideLogin.style.display = 'none'; \n        \n    }\n    \n}\n\n\n\n","import { ref, remove } from \"firebase/database\";\nimport { db, users } from \"./firebaseApp\";\n\nexport function deleteAccount(): void {\n    const buttonDiv = document.createElement('div');\n    buttonDiv.classList.add('del-btn-div'); \n    document.body.append(buttonDiv);\n    const deleteButton: HTMLButtonElement = document.createElement('button');\n    deleteButton.classList.add('del-btn'); \n    buttonDiv.append(deleteButton);\n    deleteButton.innerText = 'Delete my profile';\n\n    deleteButton.addEventListener('click', (e) => {\n        let deleteAccountBtn = confirm('Are you sure?');\n\n        if (deleteAccountBtn) {\n\n            for (let i = 0; i < users.length; i++) {\n                const user = users[i].username;\n                console.log(user);\n\n                if (sessionStorage.getItem('username') == users[i].username) {\n                    const deleteMyUser = ref(db, '/SNLApp/User/' + users[i].id);\n                    sessionStorage.clear();\n                    remove(deleteMyUser);\n                    location.href = '/index.html';\n                }\n            }\n\n        }\n    })\n}"],"names":["$dNF4M","parcelRequire","$742434d9730755af$export$9e0072ba6815db9a","constructor","allUsers","this","displayAllUsers","allUsersContainer","document","createElement","body","append","classList","add","allUsersDiv","key","allUsersName","innerText","username","$f0a030afa51d280e$export$948a31b11bc3bf0e","style","fontWeight","appendChild","addEventListener","innerHTML","profileName","smallBox","bioPar","bio","querySelector","display","img","stringImg","imgUrl","URL","src","href","$3c6074073ca7b8fd$export$5120f2d0b8d4cab8","uData","displayUser","sessionStorage","setItem","getItem","container","nameEl","bioEl","imgEl","stringProfileImg","profileImgUrl","$iLhJC","createNewUser","$f0a030afa51d280e$var$logInUser","$f0a030afa51d280e$var$logInPassword","$f0a030afa51d280e$var$inputPassword","$f0a030afa51d280e$var$onLoginFinish","result","profile","console","log","onValue","snapshot","val","users","a","setAttribute","buttonDiv","deleteButton","e","confirm","i","length","user","deleteMyUser","ref","db","id","clear","remove","location","$a1ff96ed4200f7db$export$45abfc3976589d02","alert","preventDefault","value","logIn"],"version":3,"file":"index.a80956a7.js.map"}